body {
  margin:0;
  font-family: Arial, sans-serif;
  background:#f4f6fb;
}

.header {
  padding:15px;
  background:white;
  border-bottom:1px solid #ddd;
}

.title {
  font-weight:900;
  text-align:center;
  margin-bottom:10px;
}

.hud {
  display:grid;
  grid-template-columns:1fr auto 1fr;
  align-items:center;
}

.centerControls {
  text-align:center;
}

button {
  padding:8px 14px;
  margin:4px;
  border:none;
  border-radius:8px;
  cursor:pointer;
}

.start { background:#16a34a; color:white; }
.reset { background:#ef4444; color:white; }

.grid {
  display:grid;
  grid-template-columns:1fr 1.2fr 1fr;
  gap:20px;
  padding:20px;
}

.panel {
  background:white;
  padding:15px;
  border-radius:12px;
}

.keypadWrap {
  max-width:260px;
}

.keypad {
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:5px;
}

.keypad button {
  padding:12px;
  font-size:18px;
}

.arena {
  text-align:center;
  position:relative;
}

.ropeTrack {
  position:relative;
  height:120px;
  margin:24px 0;
}

.ropeLine {
  position:absolute;
  width:100%;
  height:8px;
  background:black;
  top:50%;
  transform:translateY(-50%);
}

.knot {
  position:absolute;
  width:20px;
  height:20px;
  background:orange;
  border-radius:50%;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  transition:left 0.2s;
  z-index:3;
}

.midPullers {
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:56px;
  pointer-events:none;
  z-index:2;
  transition:transform 0.22s ease;
}

.midPullers[data-pull="left"] {
  transform:translateX(-14px);
}

.midPullers[data-pull="right"] {
  transform:translateX(14px);
}

.midPerson {
  position:relative;
  width:38px;
  height:74px;
  transform:translateY(22px);
  filter:drop-shadow(0 2px 2px rgba(0,0,0,0.25));
}

.midPerson .head {
  position:absolute;
  top:0;
  left:50%;
  width:15px;
  height:15px;
  transform:translateX(-50%);
  border-radius:50%;
  background:#f8e8d0;
  border:2px solid #171717;
}

.midPerson .body {
  position:absolute;
  top:16px;
  left:50%;
  width:24px;
  height:32px;
  transform:translateX(-50%);
  border-radius:9px;
  border:2px solid #171717;
  background:currentColor;
}

.midPerson .arm,
.midPerson .leg {
  position:absolute;
  display:block;
  background:#171717;
  border-radius:999px;
  transform-origin:top center;
}

.midPerson .arm {
  top:25px;
  width:4px;
  height:24px;
}

.midPerson .armBack {
  left:7px;
}

.midPerson .armFront {
  right:7px;
}

.midPerson .leg {
  top:46px;
  width:5px;
  height:26px;
}

.midPerson .legBack {
  left:13px;
}

.midPerson .legFront {
  right:13px;
}

.midPerson.left {
  color:#2563eb;
  transform:translateY(22px) rotate(11deg);
}

.midPerson.right {
  color:#f97316;
  transform:translateY(22px) rotate(-11deg);
}

.midPerson.left .armBack { transform:rotate(35deg); }
.midPerson.left .armFront { transform:rotate(-55deg); }
.midPerson.left .legBack { transform:rotate(24deg); }
.midPerson.left .legFront { transform:rotate(-18deg); }

.midPerson.right .armBack { transform:rotate(-35deg); }
.midPerson.right .armFront { transform:rotate(55deg); }
.midPerson.right .legBack { transform:rotate(-24deg); }
.midPerson.right .legFront { transform:rotate(18deg); }

.midPerson.is-pulling {
  animation:tugBody 0.45s ease-in-out infinite;
}

.midPerson.is-pulling .armBack,
.midPerson.is-pulling .armFront {
  animation:tugArm 0.45s ease-in-out infinite;
}

.midPerson.is-pulling .legBack,
.midPerson.is-pulling .legFront {
  animation:tugLeg 0.45s ease-in-out infinite;
}

.midPerson.winning {
  filter:drop-shadow(0 0 8px rgba(22,163,74,0.6));
}

@keyframes tugBody {
  0%,
  100% { transform:translateY(22px) translateX(0) rotate(var(--base-rot)); }
  50% { transform:translateY(20px) translateX(var(--tug-shift)) rotate(calc(var(--base-rot) + var(--tug-rot))); }
}

@keyframes tugArm {
  0%,
  100% { transform:rotate(var(--arm-start)); }
  50% { transform:rotate(var(--arm-end)); }
}

@keyframes tugLeg {
  0%,
  100% { transform:rotate(var(--leg-start)); }
  50% { transform:rotate(var(--leg-end)); }
}

.midPerson.left {
  --base-rot:11deg;
  --tug-rot:4deg;
  --tug-shift:-5px;
}

.midPerson.left .armBack,
.midPerson.left .armFront {
  --arm-start:35deg;
  --arm-end:-20deg;
}

.midPerson.left .armFront {
  --arm-start:-55deg;
  --arm-end:-95deg;
}

.midPerson.left .legBack,
.midPerson.left .legFront {
  --leg-start:24deg;
  --leg-end:-8deg;
}

.midPerson.left .legFront {
  --leg-start:-18deg;
  --leg-end:18deg;
}

.midPerson.right {
  --base-rot:-11deg;
  --tug-rot:-4deg;
  --tug-shift:5px;
}

.midPerson.right .armBack,
.midPerson.right .armFront {
  --arm-start:-35deg;
  --arm-end:20deg;
}

.midPerson.right .armFront {
  --arm-start:55deg;
  --arm-end:95deg;
}

.midPerson.right .legBack,
.midPerson.right .legFront {
  --leg-start:-24deg;
  --leg-end:8deg;
}

.midPerson.right .legFront {
  --leg-start:18deg;
  --leg-end:-18deg;
}


.pullers {
  display:flex;
  justify-content:space-between;
  align-items:flex-end;
  margin-top:-8px;
  padding:0 18px;
  pointer-events:none;
}

.team {
  display:flex;
  gap:10px;
  transition:transform 0.25s ease, filter 0.2s ease;
}

.team.winning {
  filter:drop-shadow(0 0 8px rgba(22,163,74,0.5));
}


.puller {
  width:18px;
  height:44px;
  border:2px solid #171717;
  border-radius:8px;
  box-shadow:0 2px 3px rgba(0,0,0,0.2);
}

.teamLeft .puller {
  transform:skewX(8deg);
}

.teamRight .puller {
  transform:skewX(-8deg);
}


.players {
  display:flex;
  justify-content:space-between;
}

.player {
  width:40px;
  height:60px;
  border-radius:10px;
}

.blueP { background:#2563eb; }
.orangeP { background:#f97316; }

.countdownOverlay {
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.5);
  display:none;
  justify-content:center;
  align-items:center;
}

.countdownOverlay.show {
  display:flex;
}

.countdownText {
  font-size:100px;
  color:white;
  font-weight:900;
  animation:pop 0.7s;
}

@keyframes pop {
  0%{transform:scale(0.5);opacity:0;}
  50%{transform:scale(1.2);}
  100%{transform:scale(1);opacity:1;}
}

.winner {
  font-size:24px;
  font-weight:900;
  margin-top:20px;
}
